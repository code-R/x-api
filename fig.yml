db:
  image: postgres:9.4
  environment:
    POSTGRES_USER: exercism
    POSTGRES_PASSWORD: apples
  volumes_from:
    - dbdata

dbdata:
  image: postgres:9.4
  volumes:
    - "/home/vamsi/postgres/data:/var/lib/postgresql/data"

web:
  build: ../exercism.io
  command: foreman start
  ports:
    - "4567:4567"
  environment:
    EXERCISM_GITHUB_CLIENT_ID: EXERCISM_GITHUB_CLIENT_ID
    EXERCISM_GITHUB_CLIENT_SECRET: EXERCISM_GITHUB_CLIENT_SECRET
    PORT: 4567

xapi:
  build: .
  links:
    - web
  command: foreman start
  ports:
    - "9292:9292"
    - "9393:9393"
  environment:
    PORT: 9292
